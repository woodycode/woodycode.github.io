!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="open-app-banner";t.platformToStoreMap=[["ios","apple"],["android","google"],["windows","windows"]],t.platformDependedNames=["button-url","price-suffix","icon"],t.bannerClassName=function(e){return e?r+"-"+e:r},t.appMetaName=function(e){return r+":"+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0);var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.platform=n,this.options=t,this.html="",this.domElement=null}return r(e,[{key:"innerHTML",value:function(){return this.html||(this.html='\n            <div class="'+(0,o.bannerClassName)()+" "+(0,o.bannerClassName)(this.platform)+'">\n              <span class="'+(0,o.bannerClassName)("close")+'">&times;</span>\n              <div class="'+(0,o.bannerClassName)("icon")+'" style="background-image: url('+this.options.icon+');"></div>\n              <div class="'+(0,o.bannerClassName)("info")+'">\n                <div>\n                  <div class="'+(0,o.bannerClassName)("title")+'">'+this.options.title+'</div>\n                  <div class="'+(0,o.bannerClassName)("author")+'">'+this.options.author+'</div>\n                  <div class="'+(0,o.bannerClassName)("price")+'">'+this.options.price+this.options.priceSuffix+'</div>\n                </div>\n              </div>\n              <a href="'+this.options.buttonUrl+'" target="_blank" class="'+(0,o.bannerClassName)("button")+'">\n                <span class="'+(0,o.bannerClassName)("button-label")+'">'+this.options.button+"</span>\n              </a>\n            </div>\n            "),this.html}},{key:"element",value:function(){return this.domElement||(this.domElement=document.createElement("div"),this.domElement.innerHTML=this.innerHTML(),this.domElement.className=""+(0,o.bannerClassName)("container")),this.domElement}},{key:"buttonHandler",value:function(e){this.addHandler("click",e,"button")}},{key:"closeHandler",value:function(e){this.addHandler("click",e,"close")}},{key:"addHandler",value:function(e,t,n){var r=this.element();if(n){var i="."+(0,o.bannerClassName)(n);r=r.querySelector(i)}r.addEventListener(e,t,!1)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hyphenToCamel=function(e){return e.toLowerCase().replace(/^[a-z]/g,function(e){return e.toUpperCase()}).replace(/\-[a-z]/g,function(e){return e.slice(1).toUpperCase()})},t.camelToHyphen=function(e){return e.replace(/^[A-Z]/g,function(e){return e.toLowerCase()}).replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},t.parseMeta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=document.documentElement.querySelector('meta[name="'+e+'"]');if(r){var o=r.getAttribute(t);if(o)return o.trim()}return n},t.defaultUserLang=function(){return(navigator.language||navigator.userLanguage||navigator.browserLanguage).slice(-2)||"us"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.CookieCutter=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doc=this.procss_doc(t)}return r(e,[{key:"procss_doc",value:function(e){return e||(e={}),"string"==typeof e&&(e={cookie:e}),void 0===e.cookie&&(e.cookie=""),e}},{key:"get",value:function(e){for(var t=this.doc.cookie.split(/;\s*/),n=0;n<t.length;n++){var r=t[n].split("=");if(unescape(r[0])===e)return unescape(r[1])}}},{key:"set",value:function(e,t,n){n||(n={});var r=escape(e)+"="+escape(t);return["expires","path","domain","secure"].forEach(function(e,t,o){var i=n[e];i&&(r+="secure"===e?"; secure":"; "+e+"="+escape(i))}),this.doc.cookie=r,r}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i={os:[{Windows:[/microsoft\s(windows)\s(vista|xp)/i,/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i]},{iOS:[/cfnetwork\/.+darwin/i,/(iPhone|iPad|iPod)/i]},{mac:[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i]},{Android:[/Android/i]},{Unix:[/(unix)\s?([\w\.]+)*/i]}],browser:[{Safari:[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i,/version\/([\w\.]+).+?(mobile\s?safari|safari)/i,/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i]},{WeChat:[/(micromessenger)\/([\w\.]+)/i]},{QQ:[/m?(qqbrowser)[\/\s]?([\w\.]+)/i,/(QQ)\/([\d\.]+)/i]},{UC:[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i]},{xiaomi:[/xiaomi\/miuibrowser\/([\w\.]+)/i]}]},a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t||(t=window&&window.navigator&&window.navigator.userAgent),this.uastring="string"==typeof t?t:"",this.os={name:this.parseInfoType("os")},this.browser={name:this.parseInfoType("browser")}}return o(e,[{key:"parseInfoType",value:function(e){var t=this,n=void 0,o=[];return i[e].find(function(e){var t=!0,n=!1,i=void 0;try{for(var a,s=Object.entries(e)[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var u=r(a.value,2),c=u[0];u[1].forEach(function(e){var t={};t[c]=e,o.push(t)})}}catch(e){n=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw i}}return!1}),o.find(function(e){var o=!1,i=!0,a=!1,s=void 0;try{for(var u,c=Object.entries(e)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=r(u.value,2),f=l[0];if(o=l[1].test(t.uastring)){n=f;break}}}catch(e){a=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}return o}),n}}]),e}();t.UAParser=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),s=n(3),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),c=n(0),l=n(1),f=(r=l)&&r.__esModule?r:{default:r};var p={ios:{appMeta:"apple-itunes-app",iconNames:["apple-touch-icon-precomposed","apple-touch-icon"],getStoreLink:function(e){return"https://itunes.apple.com/"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en")+"/app/id"+e+"?mt=8"}},android:{appMeta:"google-play-app",iconNames:["android-touch-icon","apple-touch-icon-precomposed","apple-touch-icon"],getStoreLink:function(e){return"http://play.google.com/store/apps/details?id="+e}},windows:{appMeta:"msApplication-ID",iconNames:["windows-touch-icon","apple-touch-icon-precomposed","apple-touch-icon"],getStoreLink:function(e){return"http://www.windowsphone.com/s?appid="+e}}},d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cookie=new s.CookieCutter;var n=this.parsePlatform(),r=o(n,2),i=r[0],a=r[1];this.browserName=a,this.platform=i,this.store=this.parseStore(i),this.storeConfig=p[i],this.appId=this.parseAppId(),this.options=this.parseOptions(),this.domElement=this.create()}return i(e,[{key:"parseOptions",value:function(){var e=this,t={};return["author","title","button","buttonUrl","price","priceSuffix","icon"].forEach(function(n){t[n]=e.parseAppMeta(u.camelToHyphen(n))}),!t.buttonUrl&&this.appId&&(t.buttonUrl=this.storeConfig.getStoreLink(this.appId)),t}},{key:"create",value:function(){var e=new f.default(this.options,this.platform),t=this;e.closeHandler(function(){t.hide()});var n=e.element(),r=document.body;return r?r.insertBefore(n,r.firstChild):document&&document.addEventListener("DOMContentLoaded",function(){r.insertBefore(n,r.firstChild)},!1),n}},{key:"hide",value:function(){var e=(0,c.bannerClassName)("hide");if(this.domElement.classList.add(e),"function"==typeof this.options.close)return this.options.close()}},{key:"show",value:function(){var e=(0,c.bannerClassName)("hide");if(this.domElement.classList.remove(e),"function"==typeof this.options.show)return this.options.show()}},{key:"isStandAlone",value:function(){return!!navigator.standalone}},{key:"isSupportedNatively",value:function(){return this.appId&&"ios"===this.platform&&"Safari"===this.browserName}},{key:"parseAppMeta",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return c.platformDependedNames.includes(e)&&(e=e+"-"+this.store),u.parseMeta((0,c.appMetaName)(e),t,n)}},{key:"parsePlatform",value:function(){var e="",t=new a.UAParser;switch(t.os.name){case"iOS":e="ios";break;case"Android":e="windows";break;case"Windows Phone":case"Windows Mobile":e="windows"}return console.log([e,t.browser.name]),[e,t.browser.name]}},{key:"parseStore",value:function(e){var t="";return c.platformToStoreMap.forEach(function(n,r,i){var a=o(n,2),s=a[0],u=a[1];s===e&&(t=u)}),t}},{key:"parseAppId",value:function(){if(!this.storeConfig)return"";var e=u.parseMeta(this.storeConfig.appMeta);return"windows"===this.platform?e:/app-id=([^\s,]+)/.exec(e)[1]}}]),e}();t.default=d},function(e,t,n){"use strict";var r,o=n(5);new((r=o)&&r.__esModule?r:{default:r}).default}]);